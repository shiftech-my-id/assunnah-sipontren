import{_ as L,c as N,d as z,g as C,h as F,j as U,k as K,l as h,Q as I,a as $,q as P,f as g,F as x,T as M,s as v,e as y,t as X,v as ee,w as B,b as R,u as ae,r as se,m as te,n as re,D as oe,P as le,N as ne,Z as ue,o as ie,M as de,G as me,p as pe}from"./index-2ksNYzUg.js";import{Q as fe}from"./QFooter-CrQqkXjY.js";import{d as _,f as D,c as S,o as b,w as o,b as e,g as f,a as n,t as c,m as ce,p as ge,q as A,i as w,u as t,s as q,F as Q,v as _e,r as k,x as T,e as be,k as ye,l as ve}from"./vendor1-D1GF41WT.js";import{Q as j,h as Y,a as G,s as H}from"./utils-DfBnPSnh.js";import{Z as we}from"./index-BKheodeb.js";const Pe=["href"],Se={class:"q-mt-lg q-mb-md justify-center items-center flex text-grey-6"},xe={__name:"BaseLayout",setup(d){const r=_(null),i=_("56px");return D(()=>{r.value&&(i.value=r.value.$el.offsetHeight+"px")}),(s,a)=>(b(),S(K,{view:"hHh lpR fff",style:{background:"#f5f5f5"}},{default:o(()=>[e(N,{ref_key:"headerRef",ref:r,elevated:"",class:"bg-primary text-white"},{default:o(()=>[f(s.$slots,"header",{},()=>[e(z,{style:{"max-width":"980px",margin:"0 auto"}},{default:o(()=>[e(C,{align:"center"},{default:o(()=>[e(F,null,{default:o(()=>a[0]||(a[0]=[n("img",{src:"/assets/img/app-logo-light.png"},null,-1)])),_:1}),n("a",{class:"q-pl-md text-white",href:s.route("dummy-route")},c(s.$config.APP_NAME),9,Pe)]),_:1})]),_:1})],!0)]),_:3},512),e(U,{style:ce({paddingTop:i.value,maxWidth:"1024px",margin:"auto"})},{default:o(()=>[f(s.$slots,"default",{},void 0,!0)]),_:3},8,["style"]),e(fe,{class:"transparent",reveal:""},{default:o(()=>[f(s.$slots,"footer",{},()=>[n("div",Se," Â© 2025 - "+c(s.$config.APP_NAME)+" v"+c(s.$config.APP_VERSION_STR),1)],!0)]),_:3})]),_:3}))}},Z=L(xe,[["__scopeId","data-v-205786fc"]]);function E(d,r="DD/MM/YYYY hh:mm:ss",i="id-ID"){let s;if(d instanceof Date)s=d;else if(typeof d=="string")s=new Date(d);else throw new Error("val must be string or Date object");return h(s).format(r)}function ke(){const d=_(new Date);let r=null;const i=()=>{d.value=new Date};D(()=>{r=setInterval(i,1e3)}),ge(()=>{r&&clearInterval(r)});const s=A(()=>d.value.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})),a=A(()=>d.value.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}));return{currentDateTime:d,currentDate:s,currentTime:a}}const $e={style:{"max-width":"800px",margin:"auto"}},Ve={class:"row q-mb-lg q-pa-md"},he={class:"text-center text-grey-8"},Ie={class:"row q-col-gutter-md justify-center"},Me=["href"],De={class:"text-subtitle2"},qe={__name:"Index",setup(d){const r=[{label:"PPDB",icon:"school",url:route("ppdb.index")},{label:"System",icon:"settings",url:route("sys-admin.index")},{label:"Akademik",icon:"menu_book",url:"dummy-route"},{label:"Santri",icon:"group",url:"dummy-route"},{label:"Presensi Santri",icon:"event_available",url:"dummy-route"},{label:"Presensi Staff",icon:"event_available",url:"dummy-route"},{label:"e-SPP",icon:"payments",url:"dummy-route"},{label:"Keuangan",icon:"payments",url:"dummy-route"}],{currentDateTime:i}=ke();return(s,a)=>(b(),S(Z,null,{default:o(()=>[e(I,null,{default:o(()=>[n("div",$e,[n("div",Ve,[e($,{class:"col q-pa-sm"},{default:o(()=>[e(P,null,{default:o(()=>[n("div",he,[a[2]||(a[2]=w(" Halo, ")),n("b",null,c(s.$page.props.auth.user.name),1),a[3]||(a[3]=w(". Selamat datang di ")),n("b",null,"Portal "+c(s.$config.APP_NAME),1),a[4]||(a[4]=w(". ")),a[5]||(a[5]=n("br",null,null,-1)),a[6]||(a[6]=w("Portal digitalisasi Pondok Pesantren ")),a[7]||(a[7]=n("br",null,null,-1)),w("Hari ini "+c(t(E)(t(i),"dddd"))+", "+c(t(E)(t(i),"DD MMMM YYYY - HH:mm:ss")),1)])]),_:1})]),_:1})]),n("div",Ie,[(b(),q(Q,null,_e(r,m=>n("a",{key:m.label,href:m.url,class:"col col-xs-4 col-sm-3 col-md-2 app-icon-btn"},[e(g,{name:m.icon,size:"32px",class:"q-mb-sm"},null,8,["name"]),n("div",De,c(m.label),1)],8,Me)),64)),n("a",{onClick:a[0]||(a[0]=m=>t(x).visit(s.route("staff-portal.profile.index"),{method:"get"})),class:"col col-xs-4 col-sm-3 col-md-2 app-icon-btn"},[e(g,{name:"person",size:"32px",class:"q-mb-sm"}),a[8]||(a[8]=n("div",{class:"text-subtitle2"},"Profil",-1))]),n("a",{onClick:a[1]||(a[1]=m=>t(x).visit(s.route("staff-portal.auth.logout"),{method:"post"})),class:"col col-xs-4 col-sm-3 col-md-2 app-icon-btn"},[e(g,{name:"logout",size:"32px",class:"q-mb-sm"}),a[9]||(a[9]=n("div",{class:"text-subtitle2"},"Logout",-1))])])])]),_:1})]),_:1}))}},Qe=L(qe,[["__scopeId","data-v-226db20f"]]),Te=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"})),je={class:"column"},Ae={class:"row"},Ee={class:"flex justify-center"},Oe={__name:"Login",setup(d){let r=M({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const i=()=>Y({form:r,url:route("staff-portal.auth.login")}),s=_(!1);return(a,m)=>{const p=k("i-head"),u=k("guest-layout");return b(),q(Q,null,[e(p,{title:"Login"}),e(u,null,{default:o(()=>[e(I,{class:"row justify-center items-center"},{default:o(()=>[n("div",je,[n("div",Ae,[e(j,{class:"q-gutter-md",onSubmit:T(i,["prevent"])},{default:o(()=>[e($,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:o(()=>[e(P,{class:"text-center"},{default:o(()=>[n("div",Ee,[e(F,{size:"80px"},{default:o(()=>[e(g,{name:"badge",color:"primary"})]),_:1})]),m[4]||(m[4]=n("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(P,null,{default:o(()=>[e(v,{modelValue:t(r).username,"onUpdate:modelValue":m[0]||(m[0]=l=>t(r).username=l),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!t(r).errors.username,autocomplete:"username","error-message":t(r).errors.username,disable:t(r).processing,rules:[l=>l&&l.length>0||"Masukkan Username"]},{append:o(()=>[e(g,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(v,{modelValue:t(r).password,"onUpdate:modelValue":m[2]||(m[2]=l=>t(r).password=l),type:s.value?"text":"password",label:"Kata Sandi",error:!!t(r).errors.password,autocomplete:"current-password","error-message":t(r).errors.password,"lazy-rules":"",disable:t(r).processing,rules:[l=>l&&l.length>0||"Masukkan kata sandi"]},{append:o(()=>[e(y,{dense:"",flat:"",round:"",onClick:m[1]||(m[1]=l=>s.value=!s.value)},{default:o(()=>[e(g,{name:s.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(X,{class:"q-mt-sm q-pl-none",style:{"margin-left":"-10px"},modelValue:t(r).remember,"onUpdate:modelValue":m[3]||(m[3]=l=>t(r).remember=l),disable:t(r).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(ee,null,{default:o(()=>[e(y,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:t(r).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Le=Object.freeze(Object.defineProperty({__proto__:null,default:Oe},Symbol.toStringTag,{value:"Module"})),J={__name:"UpdatePasswordForm",setup(d){const r=_(!1),i=_(null),s=_(null),a=M({current_password:"",password:"",password_confirmation:""}),m=()=>{a.clearErrors(),a.post(route("staff-portal.profile.update-password"),{preserveScroll:!0,onSuccess:()=>a.reset(),onError:()=>{a.errors.password&&(a.reset("password","password_confirmation"),i.value.focus()),a.errors.current_password&&(a.reset("current_password"),s.value.focus())}})};return(p,u)=>(b(),S(j,{class:"row",onSubmit:T(m,["prevent"]),onValidationError:t(H)},{default:o(()=>[e($,{square:"",flat:"",bordered:"",class:"col"},{default:o(()=>[e(G,{showing:t(a).processing},{default:o(()=>[e(B,{size:"50px",color:"primary"})]),_:1},8,["showing"]),e(P,null,{default:o(()=>[u[6]||(u[6]=n("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),u[7]||(u[7]=n("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi acak yang panjang agar akun tetap aman. ",-1)),e(v,{modelValue:t(a).current_password,"onUpdate:modelValue":u[1]||(u[1]=l=>t(a).current_password=l),label:"Kata Sandi Sekarang",type:r.value?"text":"password","lazy-rules":"",autocomplete:"off",disable:t(a).processing,error:!!t(a).errors.current_password,"error-message":t(a).errors.current_password,rules:[l=>l&&l.length>0||"Kata sandi harus diisi."]},{append:o(()=>[e(y,{dense:"",flat:"",round:"",onClick:u[0]||(u[0]=l=>r.value=!r.value)},{default:o(()=>[e(g,{name:r.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(v,{modelValue:t(a).password,"onUpdate:modelValue":u[3]||(u[3]=l=>t(a).password=l),label:"Kata Sandi Baru",type:r.value?"text":"password","lazy-rules":"",autocomplete:"off",disable:t(a).processing,error:!!t(a).errors.password,"error-message":t(a).errors.password,rules:[l=>l&&l.length>0||"Kata sandi harus diisi."]},{append:o(()=>[e(y,{dense:"",flat:"",round:"",onClick:u[2]||(u[2]=l=>r.value=!r.value)},{default:o(()=>[e(g,{name:r.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(v,{modelValue:t(a).password_confirmation,"onUpdate:modelValue":u[5]||(u[5]=l=>t(a).password_confirmation=l),label:"Konfirmasi Kata Sandi",type:r.value?"text":"password","lazy-rules":"",autocomplete:"off",disable:t(a).processing,error:!!t(a).errors.password_confirmation,"error-message":t(a).errors.password_confirmation,rules:[l=>l&&l.length>0||"Kata sandi harus diisi."]},{append:o(()=>[e(y,{dense:"",flat:"",round:"",onClick:u[4]||(u[4]=l=>r.value=!r.value)},{default:o(()=>[e(g,{name:r.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(P,null,{default:o(()=>[e(y,{type:"submit",color:"primary",label:"Perbarui Kata Sandi",disable:t(a).processing,icon:"save"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Ne=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"})),W={__name:"UpdateProfileInformationForm",setup(d){const i=R().props.auth.user,s=M({name:i.name,username:i.username,groups:"None"}),a=()=>Y({form:s,url:route("staff-portal.profile.update")});return(m,p)=>(b(),S(j,{class:"row",onSubmit:T(a,["prevent"]),onValidationError:t(H)},{default:o(()=>[e($,{square:"",flat:"",bordered:"",class:"col"},{default:o(()=>[e(G,{showing:t(s).processing},{default:o(()=>[e(B,{size:"50px",color:"primary"})]),_:1},8,["showing"]),e(P,null,{default:o(()=>[p[3]||(p[3]=n("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),p[4]||(p[4]=n("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(v,{readonly:"",modelValue:t(s).username,"onUpdate:modelValue":p[0]||(p[0]=u=>t(s).username=u),label:"ID Pengguna",disable:t(s).processing},null,8,["modelValue","disable"]),e(v,{modelValue:t(s).name,"onUpdate:modelValue":p[1]||(p[1]=u=>t(s).name=u),modelModifiers:{trim:!0},label:"Nama",disable:t(s).processing,"lazy-rules":"",error:!!t(s).errors.name,"error-message":t(s).errors.name,rules:[u=>u&&u.length>0||"Name harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"]),e(v,{readonly:"",modelValue:t(s).groups,"onUpdate:modelValue":p[2]||(p[2]=u=>t(s).groups=u),label:"Grup Pengguna",disable:t(s).processing},null,8,["modelValue","disable"])]),_:1}),e(P,null,{default:o(()=>[e(y,{type:"submit",color:"primary",label:"Perbarui Profil Saya",disable:t(s).processing,icon:"save"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},ze=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"})),Ce={class:"q-pa-sm"},Fe={class:"row justify-center"},Ue={class:"col col-md-6"},O="Profil Saya",Ke={__name:"Index",setup(d){return(r,i)=>{const s=k("i-head"),a=k("authenticated-layout");return b(),q(Q,null,[e(s,{title:O}),e(a,null,{"left-button":o(()=>[e(y,{flat:"",rounded:"",dense:"",icon:"arrow_back",onClick:i[0]||(i[0]=m=>t(x).visit(r.route("staff-portal.index")))})]),title:o(()=>[w(c(O))]),default:o(()=>[n("div",Ce,[n("div",Fe,[n("div",Ue,[e(W,{class:"q-mb-md"}),e(J)])])])]),_:1})],64)}}},Be=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"})),V="advanta-report.layout.left-drawer-open",Re={__name:"AuthenticatedLayout",setup(d){const r=ae();R();const i=_(JSON.parse(localStorage.getItem(V)));return _(!1),be(i,s=>{localStorage.setItem(V,s)}),D(()=>{i.value=JSON.parse(localStorage.getItem(V)),r.screen.lt.md&&(i.value=!1)}),(s,a)=>(b(),S(K,{view:"lHh LpR lFf"},{default:o(()=>[e(N,null,{default:o(()=>[e(z,null,{default:o(()=>[f(s.$slots,"left-button"),e(C,null,{default:o(()=>[f(s.$slots,"title",{},()=>[w(c(s.$config.APP_NAME),1)])]),_:3}),f(s.$slots,"right-button")]),_:3}),f(s.$slots,"header")]),_:3}),e(U,{class:"bg-grey-1"},{default:o(()=>[e(I,null,{default:o(()=>[f(s.$slots,"default")]),_:3})]),_:3}),f(s.$slots,"footer")]),_:3}))}},Ye={__name:"GuestLayout",setup(d){return(r,i)=>(b(),S(Z,null,{default:o(()=>[f(r.$slots,"default")]),_:3}))}};h.extend(se);h.locale("id");te({title:d=>window.CONFIG.APP_NAME+(d?" - "+d:""),resolve:d=>Object.assign({"./pages/Index.vue":Te,"./pages/auth/Login.vue":Le,"./pages/profile/Index.vue":Be,"./pages/profile/partials/UpdatePasswordForm.vue":Ne,"./pages/profile/partials/UpdateProfileInformationForm.vue":ze})[`./pages/${d}.vue`],setup({el:d,App:r,props:i,plugin:s}){const a=ye({render:()=>ve(r,i)}).use(s).use(we).use(re,{plugins:{Notify:ne,Loading:le,Dialog:oe},config:{iconSet:"material-symbols-outlined"}}).component("i-head",ue).component("i-link",ie).component("my-link",de).component("guest-layout",Ye).component("authenticated-layout",Re);a.use(me),a.mount(d)},progress:{color:"#4B5563"}});x.on("success",pe);
